[
  {"name": "event_id", "type": "STRING", "mode": "REQUIRED", "description": "Unique event identifier (UUID)"},
  {"name": "event_type", "type": "STRING", "mode": "REQUIRED", "description": "Type of event: chat_request, chat_response, error"},
  {"name": "event_timestamp", "type": "TIMESTAMP", "mode": "REQUIRED", "description": "When the event occurred"},
  {"name": "chat_id", "type": "STRING", "mode": "REQUIRED", "description": "Multi-tenant chat identifier"},
  {"name": "request_id", "type": "STRING", "mode": "NULLABLE", "description": "Request correlation ID"},
  {"name": "user_agent", "type": "STRING", "mode": "NULLABLE", "description": "User agent string"},
  {"name": "origin_domain", "type": "STRING", "mode": "NULLABLE", "description": "Domain where widget is embedded"},
  {"name": "message_length", "type": "INT64", "mode": "NULLABLE", "description": "Length of user message in characters"},
  {"name": "message_content", "type": "STRING", "mode": "NULLABLE", "description": "User message content"},
  {"name": "response_content", "type": "STRING", "mode": "NULLABLE", "description": "AI response content"},
  {"name": "context_found", "type": "BOOL", "mode": "NULLABLE", "description": "Whether relevant context was found"},
  {"name": "context_sources_count", "type": "INT64", "mode": "NULLABLE", "description": "Number of context sources used"},
  {"name": "vector_search_duration_ms", "type": "INT64", "mode": "NULLABLE", "description": "Vector search duration in milliseconds"},
  {"name": "top_similarity_score", "type": "FLOAT64", "mode": "NULLABLE", "description": "Highest similarity score from vector search"},
  {"name": "llm_model", "type": "STRING", "mode": "NULLABLE", "description": "LLM model name used"},
  {"name": "llm_request_duration_ms", "type": "INT64", "mode": "NULLABLE", "description": "LLM request duration in milliseconds"},
  {"name": "response_length", "type": "INT64", "mode": "NULLABLE", "description": "Length of AI response in characters"},
  {"name": "tokens_input", "type": "INT64", "mode": "NULLABLE", "description": "Number of input tokens"},
  {"name": "tokens_output", "type": "INT64", "mode": "NULLABLE", "description": "Number of output tokens"},
  {"name": "error_code", "type": "STRING", "mode": "NULLABLE", "description": "Error code if error occurred"},
  {"name": "error_message", "type": "STRING", "mode": "NULLABLE", "description": "Error message if error occurred"},
  {"name": "total_duration_ms", "type": "INT64", "mode": "NULLABLE", "description": "Total request processing duration in milliseconds"},
  {"name": "client_ip", "type": "STRING", "mode": "NULLABLE", "description": "Client IP address"}
]
